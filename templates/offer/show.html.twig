{% extends 'layout.html.twig' %}

{% block stylesheets %}
    {{ encore_entry_link_tags("offer") }}
{% endblock %}

{% block content %}
    <div id="offerInfosContainer">
        <div id="businessImgContainer">
            <figure>
                {% if offer.user.business.avatar is not null %}
                    <img src="{{ "public/avatars/" ~ offer.user.business.avatar.name }}" />
                {% else %}
                    <img src="{{ asset('build/images/question_mark.42e63c4a.png') }}" />
                {% endif %}
            </figure>
        </div>

        <div id="offerInfosTextContainer">
            <h1>{{ offer.title }}</h1>

            <p id="businessNameContainer">Chez <span id="businessName">{{ offer.user.business.name|upper }}</span></p>

            <div class="offersCategoriesContainers">
                <p><i class="fas fa-user"></i></i> {{ offer.experience }}</p>
                <p><i class="fas fa-suitcase"></i> {{ offer.salary }}</p>
                <p><i class="fas fa-file-contract"></i> {{ offer.type }}</p>
                <p><i class="fas fa-map-marker-alt"></i> {{ offer.location }}</p>
            </div>

            <p id="postedAtContainer">Mise en ligne le {{ offer.createdAt|date("d/m/y") }}</p>

            <p id="startedAt">Pour une prise de poste le {{ offer.startedAt|date("d/m/y") }}</p>

            <button id="applyButton" class="commonButtons">Postuler</button>
        </div>
    </div>

    <section id="contentContainer">
        <div id="offerDetailsContainer">
            <h2>Le poste</h2>

            <p>{{ offer.description }}</p>

            <hr class="offerDetailsSeparators">

            <h2>A propos de {{ offer.user.business.name }}</h2>

            <p>{{ offer.user.business.description }}</p>

            <hr class="offerDetailsSeparators">

            <h2>Localisation</h2>

            <p>{{ offer.location }}</p>
        </div>

        <div id="applyContainer">
            <div id="applyStatut">
                <p id="applyStatutText">
                    Les candidatures pour cette annonce sont ouvertes.<br>
                    Vous pouvez candidater en cliquant sur le bouton <strong>"POSTULER"</strong> présent en haut de page.<br>
                </p>
                <p id="numberOfApplysContainer">
                    Cette annonce a déjà recueilli <span id="numberOfApplys">{{ offer.applications|length }}</span> candidature{{ offer.applications|length > 1 ? "s" : "" }}.
                </p>
                <p></p>
            </div>
        </div>
    </section>
{% endblock  %}

{% block javascripts %}
    {{ encore_entry_script_tags("offer") }}
{% endblock %}
